"0",""
"0","# The recipe"
"0","reg_recipe <- recipe(average~., data = game_train) %>% "
"0","  update_role(name, new_role = ""id"") %>% "
"0","  step_tokenize(boardgamecategory, custom_token = split_category) %>% "
"0","  step_tokenfilter(boardgamecategory, max_tokens = 30) %>% "
"0","  step_tf(boardgamecategory)"
"0",""
"0","# Specifying the linear regression"
"0","reg_spec <- linear_reg(mode = ""regression"", engine = ""lm"") "
"0",""
"0","# Doing the Workflow"
"0","reg_wf <- workflow() %>% "
"0","  add_model(reg_spec)%>% "
"0","  add_recipe(reg_recipe) "
"0",""
"0","# Setting the metrics"
"0","set.seed(123)"
"0","linear_metrics <- metric_set(rmse, rsq, ccc)"
"0",""
"0","# Doing the fit into the training data"
"0","reg_fit <- reg_wf %>% "
"0","    last_fit(split = game_split, metrics = linear_metrics)"
"0",""
"0","# Collecting the metrics"
"0","collect_metrics(reg_fit, mlinear_metrics)"
